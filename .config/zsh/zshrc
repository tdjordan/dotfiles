# Enable Powerlevel10k instant prompt. Should stay at the top of ~/.zshrc.
#if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  #. "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
#fi

#zpmod source-study
#typeset -g ZPLG_MOD_DEBUG=1
#zmodload zsh/zprof
#echo .zshrc
#return 0
#[[ $- == *i* ]] && echo 'Interactive' || echo 'Not interactive'
#[[ $- != *i* ]] && echo 'Not Interactive'
#echo $SHLVL

# Uncomment the following line to disable bi-weekly auto-update checks.
DISABLE_AUTO_UPDATE="true"
DISABLE_UPDATE_PROMPT="true"

# Uncomment the following line to disable colors in ls.
DISABLE_LS_COLORS="true"

# Uncomment the following line to disable auto-setting terminal title.
DISABLE_AUTO_TITLE="true"

# Uncomment the following line if you want to disable marking untracked files
# under VCS as dirty. This makes repository status check for large repositories
# much, much faster.
DISABLE_UNTRACKED_FILES_DIRTY="true"

# Uncomment the following line if you want to change the command execution time
# stamp shown in the history command output.
# The optional three formats: "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"
# HIST_STAMPS="mm/dd/yyyy"
HIST_STAMPS="yyyy-mm-dd"

  ##zgen oh-my-zsh themes/arrow
  ##zgen oh-my-zsh lib/directories.zsh

### Interactive Shells ###

  #[ -f ~/.skim/shell/key-bindings.zsh ] && . ~/.skim/shell/key-bindings.zsh
  #. $HOME/.asdf/asdf.sh

  # Hook for desk activation
  #[ -n "$DESK_ENV" ] && . "$DESK_ENV" || true


# gitstatus
POWERLEVEL9K_DISABLE_CONFIGURATION_WIZARD=true

### zplugin
### Added by Zplugin's installer
. ~/.zplugin/bin/zplugin.zsh
autoload -Uz _zplugin
(( ${+_comps} )) && _comps[zplugin]=_zplugin
### End of Zplugin installer's chunk

zplugin ice lucid wait blockf atpull'zplugin creinstall -q .'
zplugin light zsh-users/zsh-completions

#for snippet in "{functions.misc,history,directories,git}.zsh"
#zplugin ice lucid wait multisrc'{functions,misc,history,directories,git}.zsh' pick'/dev/null'
for file in {functions,misc,history,directories,git} ; do
  zplugin ice lucid wait
  zplugin snippet OMZ::lib/$file.zsh
done

zplugin ice lucid wait
zplugin snippet OMZ::plugins/git/git.plugin.zsh

#zplugin ice lucid wait
#zplugin snippet OMZ::plugins/osx/osx.plugin.zsh

#zplugin ice lucid wait atinit'zmodload zsh/zprof' atload'zprof | head -n 20; zmodload -u zsh/zprof'

#zplugin ice atclone"dircolors -b LS_COLORS > c.zsh" atpull'%atclone' pick"c.zsh" nocompile'!'
#zplugin light trapd00r/LS_COLORS

#https://github.com/junegunn/fzf/blob/master/shell/key-bindings.zsh
  #[ -f ~/.skim/shell/key-bindings.zsh ] && . ~/.skim/shell/key-bindings.zsh
  [ -f ~/.skim/shell/key-bindings.zsh ] && zplugin ice lucid wait && zplugin snippet ~/.skim/shell/key-bindings.zsh
  #[ -f ~/.skim/shell/key-bindings.zsh ] && . ~/.skim/shell/key-bindings.zsh

PS1="READY > "
#zplugin ice lucid nocd wait'!' atload'!source ~/.p10k.zsh; _p9k_precmd'
#zplugin light romkatv/powerlevel10k
zplugin lucid nocd wait'!' atload'!source ~/.p10k.zsh; _p9k_precmd' for romkatv/powerlevel10k

#zplugin load romkatv/powerlevel10k
#zplugin load'![[ $MYPROMPT = 8 ]]' unload'![[ $MYPROMPT != 8 ]]' \

#zplugin ice wait"2" lucid from"gh-r" mv"exa* -> exa" sbin"exa" fbin"exa"
#zplugin light ogham/exa
#zplugin ice wait'!0' pick"async.zsh" src"pure.zsh"
#zplugin light sindresorhus/pure
#zplugin ice wait'!0' atload'promptinit; prompt scala3'
#zplugin load psprint/zprompts

## Contained configurations
#   aliases      : alias definitions
#   bash_local   : local machine specific
#   dockerfunc   : dockerized apps
for file in ~/.{bash_local,aliases,dockerfunc} ; do
  [ -f "$file" ] && zplugin ice lucid wait && zplugin snippet "$file"
done

# change directories without cd
setopt auto_cd

#export ZSH_AUTOSUGGEST_USE_ASYNC=1
#export ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=20
zplugin ice nocd lucid wait atload'_zsh_autosuggest_start'
zplugin light zsh-users/zsh-autosuggestions

# must be last
zplugin ice lucid wait atinit'zpcompinit; zpcdreplay'
zplugin light zdharma/fast-syntax-highlighting

function gi() { curl -sLw n https://www.gitignore.io/api/$@ ;}

#zprof
#zmodload -u zsh/zprof

